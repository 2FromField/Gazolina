<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="sid-38422fae-e03e-43a3-bef4-bd33b32041b2" targetNamespace="http://bpmn.io/bpmn" exporter="bpmn-js (https://demo.bpmn.io)" exporterVersion="18.6.1">
  <collaboration id="Collaboration_12s7xij">
    <participant id="Participant_12zazhx" name="VM Gazolina (GCP)" processRef="Process_1" />
    <participant id="Participant_10c4tuf" name="UTILISATEUR" processRef="Process_1a68kys" />
    <participant id="Participant_0sn7juf" name="Gazolina Repository" processRef="Process_0jbhoy7" />
    <messageFlow id="Flow_18iheja" sourceRef="Activity_0do24li" targetRef="Participant_10c4tuf" />
    <messageFlow id="Flow_0k9b9yp" sourceRef="Participant_10c4tuf" targetRef="Activity_0do24li" />
    <messageFlow id="Flow_1lzeche" sourceRef="Activity_0g7a7ol" targetRef="Event_0jpvs3b" />
    <messageFlow id="Flow_06la7qw" sourceRef="Event_0viicwk" targetRef="Activity_0g7a7ol" />
    <textAnnotation id="TextAnnotation_0q12kgd">
      <text>Application: Airflow
Source: mon-essence.fr
Github: 2FromField/Gazolina</text>
    </textAnnotation>
    <textAnnotation id="TextAnnotation_1oj41oj">
      <text>Nom: GazolinaApp</text>
    </textAnnotation>
    <textAnnotation id="TextAnnotation_1d93dvt">
      <text>Type: MongoDB
Cluster: GazolinaCluster
Database: gazolinadb
Collection: data</text>
    </textAnnotation>
    <textAnnotation id="TextAnnotation_0uzau2v">
      <text>Cluster: minikube
4 CPU
8Go RAM
60Go Disk</text>
    </textAnnotation>
    <association id="Association_1hdi9aq" associationDirection="None" sourceRef="Participant_12zazhx" targetRef="TextAnnotation_0uzau2v" />
    <association id="Association_1bde1d8" associationDirection="None" sourceRef="Activity_0g7a7ol" targetRef="TextAnnotation_0q12kgd" />
    <association id="Association_122y9h6" associationDirection="None" sourceRef="DataStoreReference_1c5iqfn" targetRef="TextAnnotation_1d93dvt" />
    <association id="Association_1jiwsxe" associationDirection="None" sourceRef="Activity_0do24li" targetRef="TextAnnotation_1oj41oj" />
  </collaboration>
  <process id="Process_1" isExecutable="false">
    <endEvent id="Event_070sqm5">
      <incoming>Flow_13fcx45</incoming>
    </endEvent>
    <serviceTask id="Activity_0do24li" name="MAJ de l&#39;App">
      <incoming>Flow_14balkx</incoming>
      <outgoing>Flow_13fcx45</outgoing>
      <property id="Property_1s4000y" name="__targetRef_placeholder" />
      <dataInputAssociation id="DataInputAssociation_0m18w3q">
        <sourceRef>DataStoreReference_1c5iqfn</sourceRef>
        <targetRef>Property_1s4000y</targetRef>
      </dataInputAssociation>
    </serviceTask>
    <serviceTask id="Activity_0m0c6km" name="MAJ de Grafana">
      <incoming>Flow_1jjz3kq</incoming>
      <property id="Property_0t5c20m" name="__targetRef_placeholder" />
      <dataInputAssociation id="DataInputAssociation_1f6v4na">
        <sourceRef>DataStoreReference_1c5iqfn</sourceRef>
        <targetRef>Property_0t5c20m</targetRef>
      </dataInputAssociation>
    </serviceTask>
    <dataStoreReference id="DataStoreReference_1c5iqfn" />
    <inclusiveGateway id="Gateway_0gekv08">
      <incoming>Flow_04yrmjq</incoming>
      <outgoing>Flow_14balkx</outgoing>
      <outgoing>Flow_1jjz3kq</outgoing>
    </inclusiveGateway>
    <dataObjectReference id="DataObjectReference_1gtdhjy" name="DATAFRAME&#10;[DONNEES BRUTES]" dataObjectRef="DataObject_1btlnd1" />
    <dataObject id="DataObject_1btlnd1" />
    <dataObjectReference id="DataObjectReference_0w37hlu" name="DATAFRAME&#10;[DONNEES TRANSFO.]" dataObjectRef="DataObject_0wblqh2" />
    <dataObject id="DataObject_0wblqh2" />
    <startEvent id="Event_19d2ins" name="0 7 * * *">
      <outgoing>Flow_0o3jsrm</outgoing>
      <timerEventDefinition id="TimerEventDefinition_1yezb4v" />
    </startEvent>
    <subProcess id="Activity_0g7a7ol" name="RECCUEIL DES DONNEES">
      <incoming>Flow_0o3jsrm</incoming>
      <outgoing>Flow_04yrmjq</outgoing>
      <multiInstanceLoopCharacteristics isSequential="true" />
      <startEvent id="Event_1uea117">
        <outgoing>Flow_1u6bk37</outgoing>
      </startEvent>
      <sequenceFlow id="Flow_1u6bk37" sourceRef="Event_1uea117" targetRef="Activity_15qdq26" />
      <scriptTask id="Activity_15qdq26" name="COLLECT">
        <incoming>Flow_1u6bk37</incoming>
        <outgoing>Flow_1r8gm9z</outgoing>
        <dataOutputAssociation id="DataOutputAssociation_0yegudx">
          <targetRef>DataObjectReference_1gtdhjy</targetRef>
        </dataOutputAssociation>
      </scriptTask>
      <scriptTask id="Activity_1npgjua" name="ETL">
        <incoming>Flow_1r8gm9z</incoming>
        <outgoing>Flow_0g7esq5</outgoing>
        <property id="Property_1tm9my1" name="__targetRef_placeholder" />
        <dataInputAssociation id="DataInputAssociation_1lngb3x">
          <sourceRef>DataObjectReference_1gtdhjy</sourceRef>
          <targetRef>Property_1tm9my1</targetRef>
        </dataInputAssociation>
        <dataOutputAssociation id="DataOutputAssociation_124j4e1">
          <targetRef>DataObjectReference_0w37hlu</targetRef>
        </dataOutputAssociation>
      </scriptTask>
      <sequenceFlow id="Flow_1r8gm9z" sourceRef="Activity_15qdq26" targetRef="Activity_1npgjua" />
      <scriptTask id="Activity_0osvpcw" name="INGESTION">
        <incoming>Flow_0g7esq5</incoming>
        <outgoing>Flow_0970h4c</outgoing>
        <property id="Property_1lendx6" name="__targetRef_placeholder" />
        <dataInputAssociation id="DataInputAssociation_1fqpmdj">
          <sourceRef>DataObjectReference_0w37hlu</sourceRef>
          <targetRef>Property_1lendx6</targetRef>
        </dataInputAssociation>
        <dataOutputAssociation id="DataOutputAssociation_0mzdnd7">
          <targetRef>DataStoreReference_1c5iqfn</targetRef>
        </dataOutputAssociation>
      </scriptTask>
      <sequenceFlow id="Flow_0g7esq5" sourceRef="Activity_1npgjua" targetRef="Activity_0osvpcw" />
      <endEvent id="Event_1csn1qv">
        <incoming>Flow_0970h4c</incoming>
      </endEvent>
      <sequenceFlow id="Flow_0970h4c" sourceRef="Activity_0osvpcw" targetRef="Event_1csn1qv" />
    </subProcess>
    <sequenceFlow id="Flow_13fcx45" sourceRef="Activity_0do24li" targetRef="Event_070sqm5" />
    <sequenceFlow id="Flow_14balkx" sourceRef="Gateway_0gekv08" targetRef="Activity_0do24li" />
    <sequenceFlow id="Flow_1jjz3kq" sourceRef="Gateway_0gekv08" targetRef="Activity_0m0c6km" />
    <sequenceFlow id="Flow_04yrmjq" sourceRef="Activity_0g7a7ol" targetRef="Gateway_0gekv08" />
    <sequenceFlow id="Flow_0o3jsrm" sourceRef="Event_19d2ins" targetRef="Activity_0g7a7ol" />
  </process>
  <process id="Process_1a68kys" />
  <process id="Process_0jbhoy7">
    <intermediateCatchEvent id="Event_0jpvs3b" name="dag_essence">
      <outgoing>Flow_1jx235r</outgoing>
      <messageEventDefinition id="MessageEventDefinition_0oyl18g" />
    </intermediateCatchEvent>
    <intermediateThrowEvent id="Event_0viicwk" name="MonEssence,py&#10;+ utils.py">
      <incoming>Flow_1jx235r</incoming>
      <messageEventDefinition id="MessageEventDefinition_1apeojo" />
    </intermediateThrowEvent>
    <sequenceFlow id="Flow_1jx235r" sourceRef="Event_0jpvs3b" targetRef="Event_0viicwk" />
  </process>
  <bpmndi:BPMNDiagram id="BpmnDiagram_1">
    <bpmndi:BPMNPlane id="BpmnPlane_1" bpmnElement="Collaboration_12s7xij">
      <bpmndi:BPMNShape id="Participant_12zazhx_di" bpmnElement="Participant_12zazhx" isHorizontal="true">
        <omgdc:Bounds x="170" y="218" width="1390" height="470" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_070sqm5_di" bpmnElement="Event_070sqm5">
        <omgdc:Bounds x="1502" y="502" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_03nesgl_di" bpmnElement="Activity_0do24li">
        <omgdc:Bounds x="1230" y="330" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1g245me" bpmnElement="Activity_0m0c6km">
        <omgdc:Bounds x="1230" y="480" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_1c5iqfn_di" bpmnElement="DataStoreReference_1c5iqfn">
        <omgdc:Bounds x="845" y="315" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0myr8vl_di" bpmnElement="Gateway_0gekv08">
        <omgdc:Bounds x="1055" y="495" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataObjectReference_1gtdhjy_di" bpmnElement="DataObjectReference_1gtdhjy">
        <omgdc:Bounds x="562" y="315" width="36" height="50" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="486" y="320" width="68" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataObjectReference_0w37hlu_di" bpmnElement="DataObjectReference_0w37hlu">
        <omgdc:Bounds x="722" y="315" width="36" height="50" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="646" y="320" width="68" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_19d2ins_di" bpmnElement="Event_19d2ins">
        <omgdc:Bounds x="242" y="512" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="241" y="555" width="38" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_122y9h6_di" bpmnElement="Association_122y9h6">
        <omgdi:waypoint x="890" y="315" />
        <omgdi:waypoint x="920" y="276" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_0g7a7ol_di" bpmnElement="Activity_0g7a7ol" isExpanded="true">
        <omgdc:Bounds x="350" y="450" width="650" height="140" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1uea117_di" bpmnElement="Event_1uea117">
        <omgdc:Bounds x="370" y="512" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_15qdq26_di" bpmnElement="Activity_15qdq26">
        <omgdc:Bounds x="460" y="490" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1npgjua_di" bpmnElement="Activity_1npgjua">
        <omgdc:Bounds x="620" y="490" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0osvpcw_di" bpmnElement="Activity_0osvpcw">
        <omgdc:Bounds x="780" y="490" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1csn1qv_di" bpmnElement="Event_1csn1qv">
        <omgdc:Bounds x="942" y="512" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="DataOutputAssociation_0yegudx_di" bpmnElement="DataOutputAssociation_0yegudx">
        <omgdi:waypoint x="525" y="490" />
        <omgdi:waypoint x="573" y="365" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_124j4e1_di" bpmnElement="DataOutputAssociation_124j4e1">
        <omgdi:waypoint x="686" y="490" />
        <omgdi:waypoint x="734" y="365" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_0mzdnd7_di" bpmnElement="DataOutputAssociation_0mzdnd7">
        <omgdi:waypoint x="838" y="490" />
        <omgdi:waypoint x="861" y="365" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1u6bk37_di" bpmnElement="Flow_1u6bk37">
        <omgdi:waypoint x="406" y="530" />
        <omgdi:waypoint x="460" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1r8gm9z_di" bpmnElement="Flow_1r8gm9z">
        <omgdi:waypoint x="560" y="530" />
        <omgdi:waypoint x="620" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0g7esq5_di" bpmnElement="Flow_0g7esq5">
        <omgdi:waypoint x="720" y="530" />
        <omgdi:waypoint x="780" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0970h4c_di" bpmnElement="Flow_0970h4c">
        <omgdi:waypoint x="880" y="530" />
        <omgdi:waypoint x="942" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1bde1d8_di" bpmnElement="Association_1bde1d8">
        <omgdi:waypoint x="628" y="590" />
        <omgdi:waypoint x="615" y="610" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13fcx45_di" bpmnElement="Flow_13fcx45">
        <omgdi:waypoint x="1330" y="370" />
        <omgdi:waypoint x="1416" y="370" />
        <omgdi:waypoint x="1416" y="520" />
        <omgdi:waypoint x="1502" y="520" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_14balkx_di" bpmnElement="Flow_14balkx">
        <omgdi:waypoint x="1080" y="495" />
        <omgdi:waypoint x="1080" y="370" />
        <omgdi:waypoint x="1230" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_04yrmjq_di" bpmnElement="Flow_04yrmjq">
        <omgdi:waypoint x="1000" y="520" />
        <omgdi:waypoint x="1055" y="520" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1jjz3kq_di" bpmnElement="Flow_1jjz3kq">
        <omgdi:waypoint x="1105" y="520" />
        <omgdi:waypoint x="1230" y="520" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0o3jsrm_di" bpmnElement="Flow_0o3jsrm">
        <omgdi:waypoint x="278" y="530" />
        <omgdi:waypoint x="350" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Participant_10c4tuf_di" bpmnElement="Participant_10c4tuf" isHorizontal="true">
        <omgdc:Bounds x="170" y="80" width="1390" height="110" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_0sn7juf_di" bpmnElement="Participant_0sn7juf" isHorizontal="true">
        <omgdc:Bounds x="152" y="730" width="1408" height="160" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_16ayqdr_di" bpmnElement="Event_0jpvs3b">
        <omgdc:Bounds x="342" y="782" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="328" y="825" width="66" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1vhepfe_di" bpmnElement="Event_0viicwk">
        <omgdc:Bounds x="422" y="782" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="401" y="825" width="79" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1jx235r_di" bpmnElement="Flow_1jx235r">
        <omgdi:waypoint x="378" y="800" />
        <omgdi:waypoint x="422" y="800" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1jiwsxe_di" bpmnElement="Association_1jiwsxe">
        <omgdi:waypoint x="1330" y="335" />
        <omgdi:waypoint x="1350" y="335" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1hdi9aq_di" bpmnElement="Association_1hdi9aq">
        <omgdi:waypoint x="200" y="230" />
        <omgdi:waypoint x="210" y="230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_0q12kgd_di" bpmnElement="TextAnnotation_0q12kgd">
        <omgdc:Bounds x="530" y="610" width="170" height="54" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1d93dvt_di" bpmnElement="TextAnnotation_1d93dvt">
        <omgdc:Bounds x="920" y="242" width="190" height="68" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="DataInputAssociation_1lngb3x_di" bpmnElement="DataInputAssociation_1lngb3x">
        <omgdi:waypoint x="589" y="365" />
        <omgdi:waypoint x="636" y="490" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataInputAssociation_1fqpmdj_di" bpmnElement="DataInputAssociation_1fqpmdj">
        <omgdi:waypoint x="754" y="365" />
        <omgdi:waypoint x="824" y="490" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataInputAssociation_0m18w3q_di" bpmnElement="DataInputAssociation_0m18w3q">
        <omgdi:waypoint x="895" y="341" />
        <omgdi:waypoint x="1230" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataInputAssociation_1f6v4na_di" bpmnElement="DataInputAssociation_1f6v4na">
        <omgdi:waypoint x="895" y="351" />
        <omgdi:waypoint x="1230" y="496" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_1oj41oj_di" bpmnElement="TextAnnotation_1oj41oj">
        <omgdc:Bounds x="1350" y="330" width="140" height="30" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_18iheja_di" bpmnElement="Flow_18iheja">
        <omgdi:waypoint x="1260" y="330" />
        <omgdi:waypoint x="1260" y="190" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0k9b9yp_di" bpmnElement="Flow_0k9b9yp">
        <omgdi:waypoint x="1300" y="190" />
        <omgdi:waypoint x="1300" y="330" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_0uzau2v_di" bpmnElement="TextAnnotation_0uzau2v">
        <omgdc:Bounds x="210" y="230" width="200" height="68" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1lzeche_di" bpmnElement="Flow_1lzeche">
        <omgdi:waypoint x="360" y="590" />
        <omgdi:waypoint x="360" y="782" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_06la7qw_di" bpmnElement="Flow_06la7qw">
        <omgdi:waypoint x="440" y="782" />
        <omgdi:waypoint x="440" y="590" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>
